<% if can? :create, Question %>
  <p>
    <%= link_to "Add a question", new_question_path%>
  </p>
  <% @questions.each do |question| %>
    <p>
      <strong>Question </strong>
      <%= question.question_text%>
      &emsp;
      <strong>Solution </strong>
      <%=question.solution%>
      &emsp;
      <% if can? :edit, question%>
        <%= link_to "Edit question", edit_question_path(question), id:"edit-question-#{question.id}" %>
        <%= link_to "Delete question", question_path(question), method: :delete %>
        <%= link_to "Add a choice to question", new_question_choice_path(question) %>
      <% end %>
      <p>
        <ul>
        <% question.choices.each do |choice| %>
          <li>
            &emsp; <%= choice.content %>
            &emsp; <%= choice.correct %>
            <% if can? :edit, choice%>
              &emsp; <%= link_to "Edit choice",  edit_choice_path(choice) %>
              &emsp; <%= link_to "Delete choice",  choice_path(choice), method: :delete %>
            <% end %>
          </li>
        <% end %>
        </ul>
      </p>
    </p>
  <% end %>
<% end %>
