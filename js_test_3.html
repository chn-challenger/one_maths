<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
$(document).ready(function(){
    var response = {"question":{"id":4,"question_text":"Questions 31","solution":"Solution 31","created_at":"2016-08-22T21:05:16.829Z","updated_at":"2016-08-22T21:05:16.829Z"},"choices":[{"id":7,"content":"jjjjj","correct":false,"created_at":"2016-08-22T21:05:45.677Z","updated_at":"2016-08-22T21:05:45.677Z","question_id":4},{"id":8,"content":"rrrrrr","correct":true,"created_at":"2016-08-22T21:05:54.462Z","updated_at":"2016-08-22T21:05:54.462Z","question_id":4}]}
    $(".next-question").click(function(){
        event.preventDefault();
        // console.log($(this).parent('div'));

        $(this).css({"color": "red", "border": "2px solid red"});                  

        // $(this).parent('div').children().eq(1).text(response.question.question_text);
        // $(this).siblings('form').children().eq(2).val(response.question.id);
        // var utfInput = $(this).siblings('form').children().eq(0);
        // var tokenInput = $(this).siblings('form').children().eq(1);
        // var questionIdInput = $(this).siblings('form').children().eq(2);
        // var solutionLatexDiv = $(this).siblings('form').children().last();
        // solutionLatexDiv.text('');
        // $(this).siblings('form').children().last().remove();
        // var correctDiv = $(this).siblings('form').children().last();
        // correctDiv.text('');
        // $(this).siblings('form').children().last().remove();
        // var submitInput = $(this).siblings('form').children().last();
        // $(this).siblings('form').children().last().remove();
        //
        // $(this).siblings('form').empty();
        //
        // $(this).siblings('form').append(utfInput);
        // $(this).siblings('form').append(tokenInput);
        // $(this).siblings('form').append(questionIdInput);
        // var choices = response.choices;
        // for (var i = 0, len = choices.length; i < len; i++) {
        //   $(this).siblings('form').append("<input type='radio' id='choice-"
        //     + choices[i].id +"' " + "name='choice' value=" + choices[i].correct
        //     +  ">" + "<span>" + choices[i].content + "</span>" + "<br>");
        // };
        // $(this).siblings('form').append(submitInput);
        // $(this).siblings('form').append(correctDiv);
        // $(this).siblings('form').append(solutionLatexDiv);
        //
        // $(this).hide();
        // $(this).siblings('form').children('.solution-link').show();
        //
        // $('.solution-link').on('click', function(event){
        //   $('.solution-link').hide();
        //   $('.next-question').show();
        //   var postAddress = $(this).parent('form')[0].action;
        //   var choice = $(this).parent('form').find('input:checked[name="choice"]').val();
        //   var question_id = $(this).parent('form').find('input[name="question_id"]').val();
        //   var authenticity_token = $(this).parent('form').find('input[name="authenticity_token"]').val();
        //   event.preventDefault();
        //   var solutionDiv = $(this).siblings("#solution-latex");
        //   var correctDiv = $(this).siblings("#correct");
        //   $.post(postAddress, { 'choice': choice, 'question_id': question_id, 'authenticity_token': authenticity_token }, function(response){
        //     solutionDiv.text(response.question_solution);
        //     correctDiv.text(response.message);
        //     MathJax.Hub.Typeset();
        //   });
        // });



    });
});
</script>
</head>
    <body>
      <div class="question-div">
        <p><strong>Question</strong></p>
        <p>question 2</p>
        <form class="edit_question" id="edit_question_2" action="/questions/1/check_answer" accept-charset="UTF-8" method="post">
            <input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="authenticity_token" value="7QOVcoR5OKtER1E7pSyT5Gh8+zQeHFgYfvK0A8LnkdEXGLZJoHDdC9bssXYFwehpjlhS3FMgVGlbv5gQtez8/Q==" />
            <input type='hidden' name='question_id' value=2>
              <input type='radio' id="choice-3" name='choice' value=false>
              asdsafsdaf
              <br>
              <input type='radio' id="choice-4" name='choice' value=true>
              right
              <br>
            <input type="submit" style="display:none;" name="commit" value="Submit answer" class="solution-link" data-disable-with="Submit answer"/>
            <div id="correct">asdfsdaf</div>
            <div id="solution-latex">asdfasdf</div>
        </form>
        <a class="next-question" href="/lessons/1/next_question">Next question</a>
        <div class="trythis"></div>
      </div>

      <div class="question-div">
        <p><strong>Question</strong></p>
        <p>question 2</p>
        <form class="edit_question" id="edit_question_2" action="/questions/1/check_answer" accept-charset="UTF-8" method="post">
            <input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="authenticity_token" value="7QOVcoR5OKtER1E7pSyT5Gh8+zQeHFgYfvK0A8LnkdEXGLZJoHDdC9bssXYFwehpjlhS3FMgVGlbv5gQtez8/Q==" />
            <input type='hidden' name='question_id' value=2>
              <input type='radio' id="choice-3" name='choice' value=false>
              asdsafsdaf
              <br>
              <input type='radio' id="choice-4" name='choice' value=true>
              right
              <br>
            <input type="submit" name="commit" value="Submit answer" class="solution-link" data-disable-with="Submit answer" />
            <div id="correct">asdfsdaf</div>
            <div id="solution-latex">asdfasdf</div>
        </form>
        <a class="next-question" href="/lessons/1/next_question">Next question</a>
        <div class="trythis"></div>
      </div>

      <div class="question-div">
        <p><strong>Question</strong></p>
        <p>question 2</p>
        <form class="edit_question" id="edit_question_2" action="/questions/1/check_answer" accept-charset="UTF-8" method="post">
            <input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="authenticity_token" value="7QOVcoR5OKtER1E7pSyT5Gh8+zQeHFgYfvK0A8LnkdEXGLZJoHDdC9bssXYFwehpjlhS3FMgVGlbv5gQtez8/Q==" />
            <input type='hidden' name='question_id' value=2>
              <input type='radio' id="choice-3" name='choice' value=false>
              asdsafsdaf
              <br>
              <input type='radio' id="choice-4" name='choice' value=true>
              right
              <br>
            <input type="submit" name="commit" value="Submit answer" class="solution-link" data-disable-with="Submit answer" />
            <div id="correct">asdfsdaf</div>
            <div id="solution-latex">asdfasdf</div>
        </form>
        <a class="next-question" href="/lessons/1/next_question">Next question</a>
        <div class="trythis"></div>
      </div>
    </body>
</html>
